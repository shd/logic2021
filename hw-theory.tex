\documentclass[10pt,a4paper,oneside]{article}
\usepackage[utf8]{inputenc}
\usepackage[english,russian]{babel}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{enumerate}
\usepackage{stmaryrd}
\usepackage{cmll}
\usepackage{mathrsfs}
\usepackage[left=2cm,right=2cm,top=2cm,bottom=2cm,bindingoffset=0cm]{geometry}
\usepackage{proof}
\usepackage{tikz}
\usepackage{multicol}
\usepackage{mathabx}

\makeatletter
\newcommand{\dotminus}{\mathbin{\text{\@dotminus}}}

\newcommand{\@dotminus}{%
  \ooalign{\hidewidth\raise1ex\hbox{.}\hidewidth\cr$\m@th-$\cr}%
}
\makeatother

\usetikzlibrary{arrows,backgrounds,patterns,matrix,shapes,fit,calc,shadows,plotmarks}

\newtheorem{definition}{Определение}
\begin{document}

\begin{center}{\Large\textsc{\textbf{Теоретические (``малые'') домашние задания}}}\\
             \it Математическая логика, ИТМО, М3235-М3239, весна 2021 года\end{center}

\section*{Задание №1. Знакомство с исчислением высказываний.}

В рамках данного задания мы рассматриваем классическое исчисление высказываний с классическим
множеством истинностных значений $\{\text{И}, \text{Л}\}$.

\begin{enumerate}

\item Будем говорить, что высказывание общезначимо, если выполнено при любой оценке.
    Высказывание выполнимо, если существует оценка, при которой оно истинно.
    Высказывание опровержимо, если существует оценка, при которой оно ложно.
    Высказывание невыполнимо, если нет оценки, при которой оно истинно.
     Укажите про каждое из следующих высказываний, общезначимо, выполнимо, опровержимо или невыполнимо ли оно:
\begin{enumerate}
\item $\neg A\vee\neg\neg A$
\item $(A\rightarrow\neg B)\vee(B\rightarrow\neg C)\vee(C\rightarrow\neg A)$
\item $(((P\rightarrow Q)\rightarrow P)\rightarrow P)$
\item $\neg A \with \neg \neg A$
\item $\neg (A \with \neg A)$
\item $A$
\item $A \rightarrow A$
\item $A \rightarrow \neg A$
\item $(A \rightarrow B) \vee (B \rightarrow A)$
\end{enumerate}

\item Простые доказательства. Рассмотрим доказательства в классическом исчислении
высказываний, здесь используются следующие десять схем аксиом:

\begin{tabular}{ll}
(1) & $\phi \rightarrow (\psi \rightarrow \phi)$ \\
(2) & $(\phi \rightarrow \psi) \rightarrow (\phi \rightarrow \psi \rightarrow \pi) \rightarrow (\phi \rightarrow \pi)$ \\
(3) & $\phi \rightarrow \psi \rightarrow \phi \with \psi$\\
(4) & $\phi \with \psi \rightarrow \phi$\\
(5) & $\phi \with \psi \rightarrow \psi$\\
(6) & $\phi \rightarrow \phi \vee \psi$\\
(7) & $\psi \rightarrow \phi \vee \psi$\\
(8) & $(\phi \rightarrow \pi) \rightarrow (\psi \rightarrow \pi) \rightarrow (\phi \vee \psi \rightarrow \pi)$\\
(9) & $(\phi \rightarrow \psi) \rightarrow (\phi \rightarrow \neg \psi) \rightarrow \neg \phi$\\
(10) & $\neg \neg \phi \rightarrow \phi$
\end{tabular}

Докажите:
\begin{enumerate}
\item $\vdash A \rightarrow A$
\item $\vdash (A \rightarrow A \rightarrow B) \rightarrow (A \rightarrow B)$
\item $\vdash \neg (A \with \neg A)$
\item $\vdash A \with B \rightarrow B \with A$
\item $\vdash A \rightarrow \neg \neg A$
\item $A \with \neg A \vdash B$
\end{enumerate}

\item Известна теорема о дедукции: $\Gamma, \alpha \vdash \beta$ тогда и только тогда, 
когда $\Gamma \vdash \alpha \rightarrow \beta$. Докажите с её использованием:
\begin{enumerate}
\item $\neg A, B \vdash \neg(A\& B)$
\item $A,\neg B \vdash \neg( A\& B)$
\item $\neg A,\neg B \vdash \neg( A\& B)$
\item $\neg A,\neg B \vdash \neg( A\vee B)$
\item $ A,\neg B \vdash \neg( A\rightarrow B)$
\item $\neg A, B \vdash  A\rightarrow B$
\item $\neg A,\neg B \vdash  A\rightarrow B$
\item $\vdash (A \rightarrow B) \rightarrow (B \rightarrow C) \rightarrow (A \rightarrow C)$
\item $\vdash (A \rightarrow B) \rightarrow (B \rightarrow C) \rightarrow (C \rightarrow A)$
\item Закон контрапозиции: $\vdash (A \rightarrow B) \rightarrow (\neg B \rightarrow \neg A)$
\end{enumerate}

\item Докажите:
\begin{enumerate}
\item $\vdash A \vee \neg A$ \emph{(правило исключённого третьего)}
\item $\vdash A \with B \rightarrow \neg (\neg A \vee \neg B)$
\item $\vdash \neg (\neg A \with \neg B) \rightarrow A \vee B$
\item $\vdash A \with B \rightarrow A \vee B$
\item $\vdash ((A \rightarrow B) \rightarrow A)\rightarrow A$ \emph{(закон Пирса)}
\end{enumerate}

\item Даны высказывания $\alpha$ и $\beta$, причём $\vdash \alpha\rightarrow\beta$ и $\alpha\not\equiv\beta$. 
Укажите способ построения высказывания $\gamma$, такого, что
$\vdash\alpha\rightarrow\gamma$ и $\vdash\gamma\rightarrow\beta$, причём $\alpha\not\equiv\gamma$ и
$\beta\not\equiv\gamma$.

\item Покажите, что если $\alpha \vdash \beta$ и $\neg\alpha\vdash\beta$, то $\vdash\beta$.
\end{enumerate}

\section*{Задание №2. Теоремы о полноте и корректности классической логики, интуиционистская логика.}

\begin{enumerate}
\item Покажите, что если $\Gamma \vdash \alpha$, то $\Gamma \models \alpha$.

\item Покажите, что если $\Gamma \models \alpha$, то $\Gamma \vdash \alpha$.

\item \emph{О законе исключённого третьего.} Покажите, что в интуиционистском исчислении высказываний 
доказуемо следующее:

\begin{enumerate}
\item $((A\rightarrow B)\rightarrow A)\rightarrow A \vdash \neg\neg A \rightarrow A$
\item $A \vee \neg A \vdash \neg\neg A \rightarrow A$
\end{enumerate}

\item Предложим следующий способ оценки интуиционистских высказываний.
Фиксируем некоторое топологическое пространство с носителем $X$ и топологией
(множеством всех открытых множеств) $\Omega\subseteq\wp(X)$.
Множеством истинностных значений выберем $\Omega$.
Соответственно, функция оценок для переменных задаётся как $f_\mathcal{P}: \mathcal{P}\rightarrow\Omega$. 
Определим функции оценок для связок так:
$$\begin{array}{rcl}
f_\rightarrow(a,b) &:=& ((X\setminus a) \cup b)^\circ\\
f_\with(a,b) &:=& a \cap b\\
f_\vee(a,b) &:=& a \cup b\\
f_\neg(a) &:=& (X \setminus a)^\circ
\end{array}$$
Будем считать высказывание истинным, если его оценка --- всё пространство $X$.
Например, при $X = \mathbb{R}$ и $A := (0,\infty), B := (-\infty,1)$ высказывание $A\vee B$
истинно, но при $A := (0,\infty), B := (-\infty,0)$ оно ложно.

Известно, что интуиционистское исчисление высказываний корректно и полно при таком способе
оценки --- в частности это значит, что если формула $\alpha$ недоказуема, 
то найдётся такое топологическое пространство $X$
и такие оценки для пропозициональных переменных, что $\llbracket\alpha\rrbracket \neq X$.
Это позволяет показывать недоказуемость высказываний. Например, $\not\vdash A \vee \neg A$:
возьмём $X = \mathbb{R}$ и $A := (0,\infty)$. Тогда $\llbracket \neg A \rrbracket = (-\infty,0)$
и $\llbracket A \vee \neg A\rrbracket = \mathbb{R}\setminus\{0\} \ne \mathbb{R}$.

Предложите топологические пространства и оценку для пропозициональных переменных,
опровергающие следующие выскзывания:

\begin{enumerate}
\item $\neg A \vee \neg\neg A $
\item $(((A \rightarrow B) \rightarrow A) \rightarrow A)$
\item $\neg\neg A \rightarrow A$
\item $(A \rightarrow (B \vee \neg B)) \vee (\neg A \rightarrow (B \vee \neg B))$
\item $(A \rightarrow B) \vee (B \rightarrow C) \vee (C \rightarrow A)$
\end{enumerate}

\item Можно ли, имея $(A \rightarrow B) \vee (B \rightarrow C) \vee (C \rightarrow A)$, доказать
закон исключённого третьего в интуиционистской логике?

\item Известно, что в классической логике любая связка может быть \emph{выражена} как композиция 
конъюнкций и отрицаний: существует схема высказываний, использующая только конъюнкции и отрицания, 
задающая высказывание, логически эквивалентное исходной связке. 
Например, для импликации можно взять $\neg(\alpha\with\neg\beta)$, ведь 
$\alpha\rightarrow\beta\vdash\neg(\alpha\with\neg\beta)$ и $\neg(\alpha\with\neg\beta)\vdash\alpha\rightarrow\beta$. 
Возможно ли в интуиционистской логике выразить через остальные связки:
\begin{enumerate}
\item конъюнкцию?
\item дизъюнкцию?
\item импликацию?
\item отрицание?
\end{enumerate}
Если да, предложите формулу и два вывода. Если нет --- докажите это.

\item Назовём теорию \emph{противоречивой}, если в ней найдётся такое $\alpha$, что $\vdash\alpha$ и $\vdash\neg\alpha$.
Покажите, что исчисления высказываний (классическое и интуиционистское) противоречивы тогда и только тогда, 
когда в них доказуема любая формула. 

\item \emph{Теорема Гливенко.} Обозначим доказуемость высказывания $\alpha$ в классической логике 
как $\vdash_\text{к}\alpha$, а в интуиционистской --- как $\vdash_\text{и}\alpha$. 
Оказывается возможным показать, что какое бы ни было $\alpha$, если $\vdash_\text{к}\alpha$, 
то $\vdash_\text{и}\neg\neg\alpha$. А именно, покажите, что:

\begin{enumerate}
\item Если $\alpha$ --- аксиома, полученная из схем 1--9 исчисления высказываний, то $\vdash_\text{и}\neg\neg\alpha$.
\item $\vdash_\text{и}\neg\neg(\neg\neg\alpha\rightarrow\alpha)$
\item $\neg\neg\alpha,\neg\neg(\alpha\rightarrow\beta) \vdash_\text{и}\neg\neg\beta$
\item Докажите утверждение теоремы ($\vdash_\text{к}\alpha$ влечёт $\vdash_\text{и}\neg\neg\alpha$),
опираясь на предыдущие пункты, и покажите, что классическое исчисление высказываний противоречиво
тогда и только тогда, когда противоречиво интуиционистское.
\end{enumerate}

\end{enumerate}

\section*{Задание №3. Интуиционистская логика и натуральный вывод.}
\begin{enumerate}
\item Обозначим выводимость в ИИВ <<гильбертовского стиля>> как $\vdash_\text{и}$, 
а выводимость в ИИВ <<системы натурального (естественного) вывода>> как $\vdash_\text{е}$.

Заметим, что хоть языки этих исчислений и отличаются, мы можем построить преобразование 
высказываний этих исчислений друг в друга: приняв $\bot \Rightarrow A\with\neg A$ и $\neg \alpha \Rightarrow (\alpha\rightarrow\bot)$.
Будем обозначать высказывания в гильбертовском ИИВ обычными греческими буквами,
а соответствующие им высказывания в ИИВ натурального вывода --- 
буквами с апострофами: $\alpha', \beta', \dots$.

\begin{enumerate}
\item Пусть $\Gamma\vdash_\text{и}\alpha$. Покажите, что $\Gamma\vdash_\text{е}\alpha'$: предложите общую схему 
перестроения доказательства, постройте доказательства для одного случая базы и одного случая перехода индукции.
\item Пусть $\Gamma\vdash_\text{е}\alpha'$. Покажите, что $\Gamma\vdash_\text{и}\alpha$. 
\end{enumerate}

\item Рассмотрим $\mathbb{N}_0$ (натуральные числа с нулём) с традиционным отношением порядка как решётку.
Каков будет смысл операций $(+)$ и $(\cdot)$ в данной решётке, есть ли в ней псевдодополнение, 
определены ли 0 или 1? Приведите несколько свойств традиционных определений $(+)$ и $(\cdot)$, 
которые будут всё равно выполнены при таком переопределении, и несколько свойств, которые перестанут выполняться.

\item Постройте следующие примеры:
\begin{enumerate}
\item непустого частично-упорядоченного множества, не имеющего операций $(+)$ и $(\cdot)$ ни для каких элементов;
имеющего операцию $(+)$ для всех элементов, но не имеющего $(\cdot)$ для некоторых;
имеющего опреацию $(\cdot)$ для всех элементов, но не имеющего $(+)$ для некоторых.
\item решётки, не являющейся дистрибутивной решёткой;
 дистрибутивной, но не импликативной решётки; импликативной решётки без 0.
\end{enumerate}

\item Покажите следующие тождества и свойства для импликативных решёток:
\begin{enumerate}
\item ассоциативность: $a + (b + c) = (a + b) + c$ и $a \cdot (b \cdot c) = (a \cdot b) \cdot c$;
\item монотонность: пусть $a \preceq b$ и $c \preceq d$, тогда $a + c \preceq b + d$ и $a \cdot c \preceq b \cdot d$;
\item \emph{Законы поглощения:} $a \cdot (a + b) = a$; $a + (a \cdot b) = a$;
\item $a \preceq b$ выполнено тогда и только тогда, когда $a \rightarrow b = 1$;
\item из $a \preceq b$ следует $b\rightarrow c \preceq a\rightarrow c$ и $c\rightarrow a \preceq c \rightarrow b$;
\item из $a \preceq b \rightarrow c$ следует $a \cdot b \preceq c$;
\item $b \preceq a \rightarrow b$ и $a \rightarrow (b \rightarrow a) = 1$;
\item $a \rightarrow b \preceq ((a \rightarrow (b \rightarrow c)) \rightarrow (a \rightarrow c))$;
\item $a \preceq b \rightarrow a \cdot b$ и $a \rightarrow (b \rightarrow (a \cdot b)) = 1$
\item $a \rightarrow c \preceq (b \rightarrow c) \rightarrow (a + b \rightarrow c)$
\end{enumerate}

\item Покажите, что импликативная решётка дистрибутивна.
\item Покажите, что в дистрибутивной решётке (всегда $(a + b)\cdot c = (a \cdot c) + (b \cdot c)$) также выполнено
и $a + (b \cdot c) = (a + b) \cdot (a + c)$.

\item Рассмотрим топологическое пространство $\langle X, \Omega \rangle$, упорядочим его топологию $\Omega$ отношением $\subseteq$. 
Покажите, что такая конструкция является псевдобулевой алгеброй, а если топология --- дискретная (любое подмножество $X$ открыто),
то булевой алгеброй. 

\item Докажите, что ИИВ корректно, если в качестве модели выбрать псевдобулеву алгебру, а функции оценок определить так:
$$\begin{array}{ccc}
  \llbracket\alpha \with \beta\rrbracket & = & \llbracket\alpha\rrbracket \cdot \llbracket\beta\rrbracket \\
  \llbracket\alpha \vee \beta\rrbracket & = & \llbracket\alpha\rrbracket + \llbracket\beta\rrbracket \\
  \llbracket\alpha \rightarrow \beta\rrbracket & = & \llbracket\alpha\rrbracket \rightarrow \llbracket\beta\rrbracket \\
  \llbracket\neg\alpha\rrbracket & = & \llbracket\alpha\rrbracket \rightarrow 0 \\
  \llbracket\bot\rrbracket & = & 0 \\
\end{array}$$

\item Пусть задано отношение \emph{предпорядка} $R$ (транзитивное и рефлексивное, но необязательно антисимметричное) на множестве $A$.
Напомним несколько определений:
\begin{itemize}
\item определим отношение $R^= := \{ \langle x,y \rangle\ |\ xRy \text{ и } yRx \}$;
\item $[a]_{R^=} := \{ x\ |\ aR^=x \}$ --- класс эквивалентности, порождённый элементом $a$;
\item фактор-множество $A/{R^=} := \{ [a]_{R^=}\ |\ a \in A \}$;
\item на $A/{R^=}$ можно перенести отношение $R^* := \{ \langle [a],[b] \rangle\ |\ aRb \}$.
\end{itemize}

Покажите, что: отношение $R^=$ --- отношение эквивалентности; если $x \in [a]_{R^=}$, $y \in [b]_{R^=}$ и $aRb$, то $xRy$; отношение $R^*$ ---
отношение порядка на $A/{R^=}$.

\item Покажем, что конструкция из определения алгебры Линденбаума действительно является решёткой:
\begin{enumerate}
\item Покажите, что отношение $(\approx)$ --- отношение эквивалентности (напомним, что $\alpha\preceq\beta$, если $\alpha\vdash\beta$, а $\alpha\approx\beta$, если
$\alpha\vdash\beta$ и $\beta\vdash\alpha$). \emph{Подсказка:} воспользуйтесь предыдущим заданием.
\item Покажите, что $[\alpha]_\approx\cdot[\beta]_\approx = [\alpha\with\beta]_\approx$. Для этого, например, можно показать: 
\begin{itemize}
\item $\alpha\with\beta \preceq \alpha$;
\item если $\gamma \preceq \alpha$ и $\gamma\preceq\beta$, то $\gamma\preceq\alpha\with\beta$;
\item операция однозначно определена для всех элементов решётки (то есть определена для всех классов 
эквивалентности и не зависит от выбора представителей). \emph{Подсказка:} воспользуйтесь предыдущим заданием.
\end{itemize}
\item Покажите, что $[\alpha]+[\beta]=[\alpha\vee\beta]$. 
\item Покажите, что $[\alpha]\rightarrow[\beta]=[\alpha\rightarrow\beta]$.
\item Найдите классы эквивалентности для 0 и 1.
\end{enumerate}

\end{enumerate}

\section*{Задание №4. Модели Крипке, нетабличность и дизъюнктивность ИИВ.}

\begin{enumerate}
\item Рассмотрим табличную модель $\mathfrak{V}$ с $n$ истинностными значениями, 
и с выделенным значением $T$ для истины.
Покажите, что $$\models\bigvee_{1 \le i\ne j \le n+1} (P_i \rightarrow P_j)\with(P_j\rightarrow P_i)$$
В частности, покажите, что в любой корректной модели если $\llbracket\alpha\rrbracket = \llbracket\beta\rrbracket$, то
$\llbracket\alpha\rightarrow\beta\rrbracket = T$; если $\llbracket\gamma\rrbracket = \llbracket\delta\rrbracket = T$, то
$\llbracket\gamma\with\delta\rrbracket = T$;
если $\llbracket\gamma\rrbracket = T$, то $\llbracket\gamma\vee\eta\rrbracket = \llbracket\eta\vee\gamma\rrbracket = T$.

\item Покажите, что какая бы ни была формула $\alpha$ и модель Крипке,
если $W_i \Vdash \alpha$ и $W_i \preceq W_j$, то $W_j \Vdash \alpha$.

\item Общезначимы ли следующие высказывания в ИИВ? Опровергните, построив модель Крипке, или докажите, построив натуральный вывод. 
\begin{enumerate}
\item $P \vee \neg P$;
\item $\neg\neg P \rightarrow P$;
\item $P \vee \neg P \vee \neg\neg P \vee \neg\neg\neg P$;
\item $((P \rightarrow Q) \rightarrow P) \rightarrow P$;
\item $(A \rightarrow B) \vee (B \rightarrow C) \vee (C \rightarrow A)$;
\item $\neg(\neg A \with \neg B) \rightarrow A \vee B$;
\item $(\neg A \vee B) \rightarrow (A \rightarrow B)$;
\item $(A \rightarrow B) \rightarrow (\neg A \vee B)$;
\item $\neg\bot$.
\end{enumerate}

\item Рассмотрим некоторую модель Крипке $\langle\mathfrak{W},\preceq,\Vdash\rangle$. 
Пусть $\Omega = \{ \mathcal{W} \subseteq \mathfrak{W}\ |\ \text{если }W_i \in \mathcal{W}\text{ и }W_i \preceq W_j\text{, то } W_j \in \mathcal{W}\}$.
Пусть $\mathcal{W}_\alpha := \{ W_i \in \mathfrak{W}\ |\ W_i \Vdash \alpha \}$ (множество миров, где вынуждена формула $\alpha$).
\begin{enumerate}
\item На лекции формулировалась теорема без доказательства, что пара $\langle\mathfrak{W}, \Omega\rangle$ --- топологическое пространство. Докажите её.
\item Пусть $\mathcal{W}_\alpha$ и $\mathcal{W}_\beta$ --- открытые множества. Выразите $\mathcal{W}_{\alpha\with\beta}$ и $\mathcal{W}_{\alpha\vee\beta}$
через $\mathcal{W}_\alpha$ и $\mathcal{W}_\beta$ и покажите, что они также открыты.
\item Пусть $\mathcal{W}_\alpha$ и $\mathcal{W}_\beta$ --- открытые множества. Выразите $\mathcal{W}_{\alpha\rightarrow\beta}$ через 
них и покажите, что оно также открыто.
\item Покажите, что $\Omega$ --- в точности множество всех множеств миров, на которых может быть вынуждена какая-либо формула.
А именно, покажите, что для любой формулы $\alpha$ множество миров $\mathcal{W}_\alpha$, где она вынуждена, всегда открыто 
($\mathcal{W}_\alpha \in \Omega$) --- и что для любого открытого множества найдётся формула, которая вынуждена ровно на нём
(для $Q \in \Omega$ существует формула $\alpha$, что $\mathcal{W}_\alpha = Q$).
\end{enumerate}

\item Постройте топологическое пространство, соответствующее (в смысле предыдущего задания) модели Крипке, опровергающей
высказывание $\neg\neg P\rightarrow P$.
Постройте соответствующую ему табличную модель.
      
\item Назовём \emph{древовидной} моделью Крипке модель, в которой множество 
миров $\mathfrak{W}$ упорядочено как дерево: (a) существует наименьший мир 
$W_0$; (b) для любого $W_i \ne W_0$ существует единственный предшествующий мир
$W_k: W_k \prec W_i$.
\begin{enumerate}
\item Докажите, что любое высказывание, опровергаемое моделью Крипке, может 
быть опровергнуто древовидной моделью Крипке.
\item Найдите высказывание, которое не может быть опровергнуто древовидной моделью Крипке
высотой менее 2.
\item Покажите, что для любого натурального $n$ найдётся опровержимое в моделях Крипке высказывание,
неопровергаемое никакой моделью с $n$ мирами.
\end{enumerate}

\item Будем говорить, что топологическое пространство $\langle X, \Omega\rangle$ \emph{связно}, если нет таких 
открытых множеств $A$ и $B$, что $X = A \cup B$, но $A \cap B = \varnothing$. Пусть задана некоторая модель Крипке.
Докажите, что соответствующее модели Крипке топологическое пространство связно тогда и только тогда, когда её граф 
миров связен в смысле теории графов.

\item Покажите, что модель Крипке с единственным миром задаёт классическую модель (в ней выполнены
все доказуемые в КИВ высказывания).

\item Пусть заданы алгебры Гейтинга $\mathcal{A},\mathcal{B}$, гомоморфизм $\varphi: \mathcal{A} \rightarrow \mathcal{B}$
и согласованные оценки $\llbracket\rrbracket_\mathcal{A}$ и $\llbracket\rrbracket_\mathcal{B}$: 
$\varphi(\llbracket\alpha\rrbracket_\mathcal{A}) = \llbracket\alpha\rrbracket_\mathcal{B}$.
\begin{enumerate}
\item Покажите, что гомоморфизм сохраняет порядок: если $a_1\preceq a_2$, то $\varphi(a_1) \preceq \varphi(a_2)$.
\item Покажите, что если $\llbracket \alpha \rrbracket_\mathcal{A} = 1_\mathcal{A}$, то $\llbracket\alpha\rrbracket_\mathcal{B} = 1_\mathcal{B}$.
\end{enumerate}

\item Пусть заданы алгебры Гейтинга $\mathcal{A},\mathcal{B}$. Всегда ли можно построить гомоморфизм $\varphi: \mathcal{A}\rightarrow\mathcal{B}$?

\item Пусть $\mathcal{A}$ --- алгебра Гейтинга. Покажите, что $\Gamma(\mathcal{A})$ --- алгебра Гейтинга и гёделева алгебра.

\item Пусть $\mathcal{A}$ --- булева алгебра. Всегда ли (возможно ли, что) $\Gamma(\mathcal{A})$ будет булевой алгеброй?
\end{enumerate}

\section*{Задание №5.}

\begin{enumerate}
\item \emph{Алгебраические типы} --- это семейство составных типов, 
позволяющих строить <<алгебраические>> выражения на типах:

\begin{tabular}{lll}
название & обозначение & алгебраический смысл\\\hline
тип-сумма, <<алгебраический>> & $\alpha\vee\beta$ & $\alpha+\beta$\\
тип-произведение, пара & $\alpha\with\beta$ & $\alpha\times\beta$\\
тип-степень, функция & $\alpha\to\beta$&$\beta^\alpha$
\end{tabular}

Название <<алгебраический>> закрепилось в первую очередь за типом-суммой (видимо потому,
что остальные типы имеют устоявшиеся названия), однако, может быть отнесено и к другим
типам.

Поясните <<типовый>> (программистский) смысл следующих алгебраических тождеств --- и постройте
программы, их доказывающие: $\gamma\times(\alpha+\beta) = \gamma\times\alpha + \gamma\times\beta$,
$\gamma^{\alpha\times\beta} = {(\gamma^\alpha)}^\beta$ (\emph{карринг}),
$\gamma^{\alpha+\beta} = \gamma^\alpha\times\gamma^\beta$.

\item Докажите следующие формулы в исчислении предикатов:
\begin{enumerate}
\item $\forall x.\phi\rightarrow \phi$
\item $(\forall x.\phi)\rightarrow (\exists x.\phi)$
\item $(\forall x.\forall x.\phi) \rightarrow (\forall x.\phi)$
\item $(\forall x.\phi) \rightarrow (\neg \exists x.\neg \phi)$ 
\item $(\exists x.\phi) \rightarrow (\neg \forall x.\neg \phi)$
\item $(\forall x.\neg\phi) \rightarrow (\neg \exists x.\phi)$ 
\item $(\exists x.\neg\phi) \rightarrow (\neg \forall x.\phi)$
\end{enumerate}

\item Опровергните формулы $\phi\rightarrow\forall x. \phi$ и $(\exists x.\phi)\rightarrow (\forall x.\phi)$

\item Рассмотрим формулу $\alpha$ с двумя свободными переменными $x$ и $y$ (мы предполагаем,
что эти метапеременные соответствуют разным переменным).
Определите, какие из сочетаний кванторов выводятся из каких --- и приведите соответствующие
доказательства или опровержения:
\begin{enumerate}
\item $\forall x.\forall y.\alpha$, $\forall y.\forall x.\alpha$
\item $\exists x.\exists y.\alpha$, $\exists y.\exists x.\alpha$
\item $\forall x.\forall y.\alpha$, $\forall x.\exists y.\alpha$, $\exists x.\forall y.\alpha$, $\exists x.\exists y.\alpha$
\item $\forall x.\exists y.\alpha$, $\exists y.\forall x.\alpha$
\end{enumerate}
 
\item Научимся выносить квантор всеобщности <<наружу>>:
\begin{enumerate}
\item Покажите, что если $x$ не входит свободно в $\alpha$, то
$$
\vdash(\alpha \vee \forall x.\beta) \rightarrow (\forall x.\alpha\vee\beta)\quad
\mbox{и}\quad
\vdash((\forall x.\beta)\vee\alpha) \rightarrow (\forall x.\beta\vee\alpha)\quad
$$
\item Покажите, что $$\vdash((\forall x.\alpha) \vee (\forall y.\beta)) \rightarrow \forall p.\forall q.\alpha[x:=p]\vee\beta[y := q]$$
где $p$ и $q$ --- свежие переменные, не входящие в формулу. Заметим, что в частном случае $x$ может совпадать с $y$.
Нужно ли наложить какие-нибудь ещё ограничения на переменные?
\item Докажите аналогичные утверждения для $\with$.
\item Как будут сформулированы аналогичные утверждения для $\rightarrow$ и $\neg$? Сформулируйте и докажите их.
\end{enumerate}

\item Научимся вносить квантор всеобщности <<внутрь>>:
\begin{enumerate}
\item Покажите, что если $x$ не входит свободно в $\alpha$, то
$$
\vdash (\forall x.\alpha\vee\beta)\rightarrow(\alpha \vee \forall x.\beta)\quad
\mbox{и}\quad
\vdash (\forall x.\beta\vee\alpha)\rightarrow((\forall x.\beta)\vee\alpha)\quad
$$

\item Покажите, что если $p$ не входит свободно в $\beta$ и $q$ не входит свободно в $\alpha$, то
$$\vdash(\forall p.\forall q.\alpha\vee\beta) \rightarrow (\forall x.\alpha[p := x]) \vee (\forall y.\beta[q := y])$$
при условии, что $x$ свободно для подстановки вместо $p$ в $\alpha$ и $y$ свободно для подстановки вместо $q$ в $\beta$.
Нужно ли наложить какие-нибудь ещё ограничения на переменные?
\item Докажите аналогичные утверждения для $\with$.
\item Как будут сформулированы аналогичные утверждения для $\rightarrow$ и $\neg$? Сформулируйте и докажите их.
\end{enumerate}

%\item Сформулируйте и докажите аналогичные предыдущим пунктам утверждения для квантора существования.

\item Научимся работать со спрятанными глубоко кванторами. Пусть $\vdash\alpha\rightarrow\beta$, тогда:
\begin{enumerate}
\item Докажите: $$\vdash\psi\vee\alpha \rightarrow \psi\vee\beta\quad\vdash\psi\with\alpha \rightarrow \psi\with\beta\quad
\vdash(\psi\rightarrow\alpha) \rightarrow (\psi\rightarrow\beta)\quad\vdash(\beta\rightarrow\psi) \rightarrow (\alpha\rightarrow\psi)$$
\item Сформулируйте и докажите аналогичное свойство для отрицания.
\item Докажите $\vdash(\forall x.\alpha)\rightarrow(\forall x.\beta)$. 
Надо ли наложить на формулы $\alpha$ и $\beta$ какие-либо ограничения?
\item Докажите $\vdash(\exists x.\alpha)\rightarrow(\exists x.\beta)$. 
Надо ли наложить на формулы $\alpha$ и $\beta$ какие-либо ограничения?
\end{enumerate}

\end{enumerate}

\section*{Задание №6.}

\begin{enumerate}
\item Простые задачи. Каждый пункт --- на 1 балл. Имеется ли свобода для подстановки в следующих примерах?
\begin{enumerate}
\item $\forall x.P(x,y) \rightarrow Q(y,x)\ [ x := y ]$
\item $\forall x.P(x,y)\ [ z := x ]$
\item $\forall z.(\forall y.P(z)) \rightarrow P(z)\ [ z:= y]$
\item $(\forall y.(\forall x.P(z))) \vee P(z)\ [ z:= y ]$
\item $(\forall y.P(a)) \vee P(b)\ [a := y]$
\end{enumerate}

\item 
Пусть выполняется замена $x$ на $\theta$ в формуле $\alpha$. 

\begin{enumerate}
\item
Докажите, что если свобода для подстановки есть, 
то $\llbracket \alpha \rrbracket ^{x := \llbracket\theta\rrbracket} = \llbracket\alpha[x := \theta]\rrbracket$.

\item Постройте пример, когда 
$\llbracket \alpha \rrbracket ^{x := \llbracket\theta\rrbracket} \ne \llbracket\alpha[x := \theta]\rrbracket$.
\end{enumerate}

\item Будем говорить, что формула $\alpha$ \emph{следует} из контекста $\Gamma$, 
если при любой оценке, такой, что при всех $\gamma\in\Gamma$ выполнено $\llbracket\gamma\rrbracket = \text{И}$, 
также выполнено и $\llbracket\alpha\rrbracket=\text{И}$.

Возможно показать, что если $\Gamma \vdash \alpha$, то $\Gamma \models \alpha$, при условии, что в выводе 
отсутствуют применения правил для кванторов по свободным переменным из контекста.
Доказательство аналогично таковому для исчисления высказываний, однако, требуется разобрать два новых случая:

\begin{enumerate}
\item Покажите, что формулы, полученные из 11 и 12 схем аксиом, всегда общезначимы.
\item Покажите, что формулы, полученные применением правил для кванторов из общезначимых утверждений, также окажутся
общезначимыми.
\end{enumerate}

Заметим, что если в выводе присутствуют запрещённые выше применения правил, то получившееся выражение может оказаться некорректным:

\begin{tabular}{lll}
(1) & $x = 0\vdash x = 0$\\
(2) & $x = 0\vdash A \rightarrow A \rightarrow A$ \\
(3) & $x = 0\vdash (x = 0) \rightarrow (A \rightarrow A \rightarrow A) \rightarrow (x=0)$ \\
(4) & $x = 0\vdash (A \rightarrow A \rightarrow A) \rightarrow (x=0)$\\
(5) & $x = 0\vdash (A \rightarrow A \rightarrow A) \rightarrow (\forall x.x=0)$ & запрещённое применение правила для $\forall$\\
(6) & $x = 0\vdash \forall x.x=0$
\end{tabular}

При этом $x = 0 \models x = 0$, но $x = 0\not\models \forall x.x = 0$.

Почему мы вводим сложные ограничения, а не запретим, например, незамкнутые гипотезы с самого начала? Мы
не хотим чрезмерно ограничивать язык.

\item Пусть некоторая формула выполнена на всех оценках с двухэлементным предметным множеством $D$.
Верно ли, что эта формула общезначима?

\item Пусть формула выполнена на всех оценках с конечным предметным множеством $D$. Верно ли, что эта формула общезначима?

\end{enumerate}

\section*{Задание №7.}
\begin{enumerate}
\item Покажите, что связанную переменную под квантором можно переименовывать: $(\forall x.\varphi) \rightarrow \forall y.(\varphi[x := y])$
и $(\exists x.\varphi) \rightarrow \exists y.(\varphi[x := y])$,
если $y$ свободен для подстановки вместо $x$ в $\varphi$.

\item Для следующих формул найдите эквивалентные им формулы с поверхностными кванторами и наметьте план доказательства
эквивалентности (укажите, какие и в каком порядке применять леммы из предыдущего задания).
\begin{enumerate}
\item $((\forall x.P(x)) \rightarrow P(x)) \rightarrow P(x)$
\item $((\forall x.P(x))\rightarrow (\forall x.Q(x)))\rightarrow (\forall x.R(x))$
\item $(\neg\forall x.P(x)) \vee (\exists y.\forall x.Q(x,y))$
%\item $\neg\forall x.(\neg \forall y.P(y)) \with (\neg\forall z.Q(z))$
\end{enumerate}

\item Рассмотрим полное непротиворечивое множество формул исчисления предикатов $\Gamma$. 
Рассмотрим оценку формул, определённую на лекции ($D$ --- множество всех строк, составленных из функциональных символов,
$\llbracket P (\theta_1, \theta_2, \dots, \theta_n) \rrbracket = \text{И}$ тогда и только тогда, когда
$P (\theta_1, \theta_2, \dots, \theta_n) \in \Gamma$ и т.п.). Пусть для любой формулы $\alpha$ с не более чем $n$ связками
выполнено, что $\llbracket\alpha\rrbracket = \text{И}$ тогда и только тогда, когда $\alpha\in\Gamma$. Тогда покажите:
\begin{enumerate}
\item Пусть $\alpha$ и $\beta$ имеют не более $n$ связок. Тогда 
$\alpha\with\beta \in \Gamma$ тогда и только тогда, когда $\llbracket \alpha\with\beta \rrbracket = \text{И}$
\item Пусть $\alpha$ и $\beta$ имеют не более $n$ связок. Тогда 
$\alpha\vee\beta \in \Gamma$ тогда и только тогда, когда $\llbracket \alpha\vee\beta \rrbracket = \text{И}$
\item Пусть $\alpha$ и $\beta$ имеют не более $n$ связок. Тогда 
$\alpha\rightarrow\beta \in \Gamma$ тогда и только тогда, когда $\llbracket \alpha\rightarrow\beta \rrbracket = \text{И}$
\item Пусть $\alpha$ и $\beta$ имеют не более $n$ связок. Тогда 
$\neg\alpha \in \Gamma$ тогда и только тогда, когда $\llbracket \neg\alpha \rrbracket = \text{И}$
\end{enumerate} 
\end{enumerate}

\section*{Задание №8.}
\begin{enumerate}
\item \emph{Теорией первого порядка} назовём исчисление предикатов с расширенным языком (добавлены новые функциональные и
предикатные символы) и набором аксиом.
Добавленные символы и аксиомы мы назовём \emph{нелогическими} или \emph{математическими}, в противоположность \emph{логическим}
аксиомам и символам из исчисления высказываний.

Введём теорию первого порядка для теории групп, добавив к исчислению предикатов двуместный функциональный символ $(\cdot)$, 
одноместный функциональный символ $({}^{-1})$, константу (нульместный функциональный символ) $1$, 
двуместный предикатный символ $(=)$ и следующие нелогические схемы аксиом: 
\begin{itemize}
\item Схемы аксиом равенства: $x = y \with x = z \rightarrow y = z$ (транзитивность); $x = y \rightarrow x\cdot z = y\cdot z$;
$x = y \rightarrow z \cdot x = z \cdot y$ (правое и левое домножение).
\item Схема аксиом ассоциативности: $x \cdot (y \cdot z) = (x \cdot y) \cdot z$.
\item Схемы аксиом обратного элемента: $x^{-1} \cdot x = 1$; $x \cdot x^{-1} = 1$.
\item Схемы аксиом нейтрального элемента: $1 \cdot x = x$; $x \cdot 1 = x$.
\end{itemize}

Докажите следующее:
\begin{enumerate}
\item $\vdash 1 = 1$
\item $\vdash \forall a.a = a$
\item $\vdash \forall a.\forall b.a = b \rightarrow b = a$
\item $\vdash 1 ^ {-1} = 1$
\item $\vdash \forall a.(a^{-1})^{-1} = a$
\item $\vdash \forall a. \forall b. a \cdot b = 1 \rightarrow b = a^{-1}$
\item $\vdash \forall a.\forall b.\forall c. c \cdot a = c \cdot b \rightarrow a = b$
\item $a \cdot p = b, a \cdot q = b \vdash p = q$
\end{enumerate}

\item Назовём \emph{структурой} теории первого порядка такую модель исчисления предикатов, что для всех нелогических
функциональных и предикатных символов теории в ней задана оценка.
Назовём \emph{моделью} теории первого порядка такую структуру, что все нелогические аксиомы данной теории в ней 
истинны.

Постройте модель теории групп и структуру теории групп, не являющуюся моделью теории групп.

\item Рассмотрим теорию групп с добавленной аксиомой $\forall a.\forall b.a\cdot b = 1$. 
Докажите, что $\vdash \forall a.\forall b.a = b$. Верно ли, что предметное множество данной модели также одноэлементное?
Что можно сказать про его мощность, если это не так?

\item Определите теорию первого порядка, формализующую решётки. Докажите в ней закон поглощения: $\forall a.\forall b.a + a \cdot b = a$.

\end{enumerate}

\section*{Задание №9. Арифметика.}
\begin{enumerate}
\item Постройте множества $N$, удовлетворяющие следующим изменённым аксиоматикам Пеано:
\begin{enumerate}
\item не выполняется аксиома индукции --- покажите, что остальные аксиомы выполняются;
\item без инъективности операции $(')$ --- покажите, что остальные аксиомы выполняются; обязательно ли в таком множестве $0$ единственен?
\item с выделенным элементом $0$, не имеющим свойства отсуствия предшественников (т.е. существует $x: x' = 0$) --- покажите, что остальные аксиомы выполняются.
\end{enumerate}

\item Покажите в аксиоматике Пеано:
\begin{enumerate}
\item ассоциативность сложения;
\item коммутативность умножения;
\item дистрибутивность $(a + b) \cdot c = a \cdot c + b \cdot c$;
\end{enumerate}

\item Рассмотрим аксиоматику Пеано. Определим отношение <<меньше или равно>> так: $0 \le a$ и $a' \le b'$, если $a \le b$. Покажите, что:
\begin{enumerate}
\item $x \le x+y$;
\item $a'' + b'' \le (a'') \cdot (b'')$;
\item Если существует $n$, что $x + n  = y$, то $x \le y$.
\item Будем говорить, что $a$ делится на $b$ с остатком, если существуют такие $p$ и $q$, что 
$a = b \cdot p + q$ и $0 \le q < b$. Покажите, что $p$ и $q$ всегда существуют и единственны,
если $b > 0$.
\end{enumerate}

\item Докажите в формальной арифметике:
\begin{enumerate}
\item $\vdash \overline{2} \cdot \overline{2} = \overline{4}$ (теперь вы знаете правду);
\item $\vdash \forall p.(\exists q.q' = p) \vee p = 0$ (единственность нуля --- нужна ли здесь аксиома А6?);
\item $\vdash p \cdot q = 0 \rightarrow p = 0 \vee q = 0$ (отсутствие делителей нуля);
\end{enumerate}

\item Выразите (представьте) в формальной арифметике:
\begin{enumerate}
\item <<полное>> отношение $R = \mathbb{N}^2$;
\item отношение $(=)$;
\item функцию $f(x) = 0$;
\item функцию $f(x) = x + 1$;
\end{enumerate}

\end{enumerate}

\section*{Задание №10. Рекурсивные функции.}
\begin{enumerate}
\item Покажите, что следующие функции примитивно-рекурсивны. Ответ предполагает написание интерпретатора
для рекурсивных функций и демонстрацию реализации функции как программы для данного интерпретатора. В качестве
интерпретатора подойдёт, например, библиотека примитивов для C++, реализованная с использованием шаблонов.
\begin{enumerate}
\item Умножение.
\item Ограниченное вычитание 1:

$$x\dotdiv 1 = \left\{\begin{array}{ll}x-1, & x > 0\\
                      0, & x = 0
         \end{array}\right.$$
\item Ограниченное вычитание: $x \dotdiv y$ (аналогично, 0 при $x < y$).

\item Деление нацело.
\item Остаток от деления нацело.
\item Частичный логарифм: $\text{plog}_a b = \max \{ x \in \mathbb{N}_0 : b \mathop{\raisebox{-2pt}{\vdots}} a ^ x \}$
\item Проверка числа на простоту.
\item Вычисление $p_n$ ($n$-го простого числа). Подсказка: используйте постулат Бертрана (для любого натурального $n \ge 2$ найдётся 
простое число $p$ в интервале $n < p < 2n$).
\item Длина списка, представленного в гёделевой нумерации: по $p_1^{k_1} \cdot p_2^{k_2} \cdot \dots \cdot p_n^{k_n}$ вернуть $n$.
\item Элемент списка с номером $k$.
\item Операция cons: $\text{cons}(k_0, p_1^{k_1} \cdot p_2^{k_2} \cdot \dots \cdot p_n^{k_n}) = p_1^{k_0} \cdot p_2^{k_1} \cdot \dots \cdot p_{n+1}^{k_n}$.
\end{enumerate}

\item Покажите (аналогично предыдущему заданию), что функция Аккермана --- рекурсивная.

\item Положим, что \emph{гёделев номер} открывающейся скобки равен трём: $\ulcorner ( \urcorner = 3$, а закрывающейся --- пяти: $\ulcorner ) \urcorner = 5$.
Аналогично, \emph{гёделевым номером} строки назовём гёделево представление списка гёделевых номеров символов этой строки:
$\ulcorner ()( \urcorner = 2^3 \cdot 3^5 \cdot 5^3 = 243\,000$.
Покажите, что функция проверки скобочной записи на корректность (на вход функции поступает гёделев номер строки) --- примитивно-рекурсивная.

\item Назовём \emph{характериситческим отношением} $C_f$ для функции $f: \mathbb{N}^n \rightarrow \mathbb{N}$
такое отношение $C_f\subseteq\mathbb{N}^{n+1}$, что 
$\langle k_1,k_2,\dots,k_{n+1} \rangle \in C_f$ тогда и только тогда, когда $f(k_1,k_2,\dots,k_n) = k_{n+1}$.
Покажите, что если функция представима в формальной арифметике, то её характеристическое отношение выразимо в формальной арифметике.
\end{enumerate}

\section*{Задание 11. Теоремы о неполноте формальной арифметики}
\begin{enumerate}
\item Пусть $\mathcal{S}$ --- теория первого порядка, расширяющая формальную арифметику (помимо аксиом формальной арифметики добавлены
ещё какие-то нелогические аксиомы). Покажите, что в ней также выполнен аналог Первой теоремы Гёделя о неполноте формальной арифметики.
\item Поясните, почему Первая теорема Гёделя о неполноте арифметики в форме Россера также влечёт неполноту стандартной интерпретации
формальной арифметики.
\item Добавим к формальной арифметике аксиому $\neg\sigma(\overline{\ulcorner\sigma\urcorner})$. Будет ли получившаяся теория
$\omega$-непро\-ти\-во\-ре\-чивой?
\item Покажите, что формальная арифметика противоречива тогда и только тогда, когда $\vdash \overline{1} = 0$.
\end{enumerate}

\end{document}
